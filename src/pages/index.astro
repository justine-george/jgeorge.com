---
import PageLayout from "@/layouts/Base";
import PostPreview from "@/components/blog/PostPreview";
import FeaturedProjects from "@/components/project/FeaturedProjects";
// import FeaturedProjects from "../components/project/FeaturedProjectsCSR";
import SocialList from "@/components/SocialList";
import { getAllPosts, sortMDByDate } from "@/utils";
import { Icon } from "astro-icon/components";
import { projects } from "@/site-config";

const featuredProjects = projects.filter((project) => project.isFeatured && !project.isDisabled);

const MAX_POSTS = 3;
const allPosts = await getAllPosts();
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);
---

<PageLayout meta={{ title: "Home" }}>
	<section aria-label="Landing page intro" class="space-y-8" data-pagefind-body>
		<h1 class="title text-4xl">Hello, I'm Justine.</h1>
		<!-- <h1 class="title text-4xl">
			Hello, I'm
			<span
				class="bg-gradient-to-r from-blue-500 via-pink-500 to-blue-500 bg-clip-text text-transparent"
				>Justine.</span
			>
		</h1> -->
		<!-- <p>
			I'm a CS graduate student at UT Dallas, set to graduate in May '24. I am passionate about
			building scalable and reliable backend systems, with a strong interest in distributed systems
			and cloud computing. My journey includes over 3 years of experience as a Full Stack Software
			Engineer at Resi Media and Oracle Finance, during which I've had the privilege of building
			impactful software. Outside of my professional interests, I have a fondness for indie PC
			games, exploring worlds and mechanics that push the boundaries of storytelling and gameplay.
			I'm always keen to discuss technology, explore new opportunities, or share pet photos. Feel
			free to reach out anytime!
		</p> -->
		<p>
			I'm a CS graduate student at UT Dallas, set to graduate in May '24. My passion lies in
			building scalable and reliable backend systems, with a particular interest in distributed
			systems and cloud computing.
		</p>
		<!-- <p>
			Over the past 3 years, I've gained experience as a Full Stack Software Engineer at Resi Media
			and Oracle Finance, where I had the privilege of contributing to impactful software projects.
		</p> -->
		<p>
			Over three years at Oracle Financial Services, I honed my skills as a Full Stack Software
			Development Engineer, contributing to key projects that enhanced global banking services.
			Transitioning to Resi Media as a Software Engineer Grad Intern, I specialized in backend
			improvements and system optimizations, further expanding my expertise in scalable and reliable
			systems.
		</p>
		<p>
			Outside of my professional life, I have a deep appreciation for indie PC games, exploring
			innovative storytelling and gameplay that push creative boundaries.
		</p>
		<SocialList />
	</section>
	<section aria-label="Projects list" class="mt-12 space-y-8">
		<h2 id="featured-projects" class="title text-xl">Featured Projects</h2>
		<FeaturedProjects projects={featuredProjects} />
		<p>
			<a
				href="/projects"
				aria-label="View all projects"
				class="group sm:hover:text-accent"
				data-astro-prefetch
			>
				<span>View All Projects</span>
				<Icon
					class="ms-0.5 inline-block h-4 w-4 -translate-y-[0.05rem] transition-transform group-hover:translate-x-1.5 sm:group-hover:text-accent"
					name="ri:arrow-right-line"
					aria-hidden="true"
					focusable="false"
				/>
			</a>
		</p>
	</section>

	<section aria-label="Blog post list" class="mt-12 space-y-8">
		<h2 class="title text-xl">Most Recent Posts</h2>
		<ul class="space-y-4 sm:space-y-6">
			{
				allPostsByDate.map((p) => (
					<li class="group flex flex-col gap-2">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
		<p>
			<a
				href="/posts"
				aria-label="View all blog posts"
				class="group sm:hover:text-accent"
				data-astro-prefetch
			>
				<span>Read All Posts</span>
				<Icon
					class="ms-0.5 inline-block h-4 w-4 -translate-y-[0.05rem] transition-transform group-hover:translate-x-1.5 sm:group-hover:text-accent"
					name="ri:arrow-right-line"
					aria-hidden="true"
					focusable="false"
				/>
			</a>
		</p>
	</section>
	<!-- <section class="mt-16">
		<h2 class="mb-4 text-xl title">Technologies</h2>
		<ul class="space-y-4 sm:space-y-2">
			{
				otherProjects.map(({ links, title, description }) => (
					<li>
						<a
							href={links.demo || links.github}
							target="_blank"
							rel="noopener noreferrer"
							class="inline-block cactus-link"
						>
							{title}
						</a>
						:<p class="inline-block sm:mt-2">{description.slice(0, 10)}</p>
					</li>
				))
			}
		</ul>
	</section> -->
</PageLayout>
